import{r as P,j as l,c as B,u as Z,i as tt,b as at,k as _,l as et}from"./index-CHsasOJn.js";import{R as ot}from"./ResourceCounter-BXykPTcs.js";import{y as st,t as nt,d as rt,f as it,z as H,A as V,C as lt,D as ct,E as pt,c as F,g as w,F as dt,G as q,a as Q,u as A,r as T,s as M,b as h,m as U,B as ut,l as J}from"./createSimplePaletteValueFilter-DW0oBXIX.js";import{c as D}from"./createSvgIcon-jqyJqtoP.js";import{n as K}from"./notify-CZCgfIFC.js";import"./utils-Bzi9kVJy.js";const gt=st();function ft(t){const{theme:a,name:e,props:o}=t;return!a||!a.components||!a.components[e]||!a.components[e].defaultProps?o:nt(a.components[e].defaultProps,o)}function vt({props:t,name:a,defaultTheme:e,themeId:o}){let n=rt(e);return o&&(n=n[o]||n),ft({theme:n,name:a,props:t})}const xt=P.createContext(),yt=()=>P.useContext(xt)??!1,bt=dt(),Pt=gt("div",{name:"MuiStack",slot:"Root"});function mt(t){return vt({props:t,name:"MuiStack",defaultTheme:bt})}function Ct(t,a){const e=P.Children.toArray(t).filter(Boolean);return e.reduce((o,n,r)=>(o.push(n),r<e.length-1&&o.push(P.cloneElement(a,{key:`separator-${r}`})),o),[])}const St=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],kt=({ownerState:t,theme:a})=>{let e={display:"flex",flexDirection:"column",...H({theme:a},V({values:t.direction,breakpoints:a.breakpoints.values}),o=>({flexDirection:o}))};if(t.spacing){const o=lt(a),n=Object.keys(a.breakpoints.values).reduce((s,p)=>((typeof t.spacing=="object"&&t.spacing[p]!=null||typeof t.direction=="object"&&t.direction[p]!=null)&&(s[p]=!0),s),{}),r=V({values:t.direction,base:n}),d=V({values:t.spacing,base:n});typeof r=="object"&&Object.keys(r).forEach((s,p,C)=>{if(!r[s]){const y=p>0?r[C[p-1]]:"column";r[s]=y}}),e=ct(e,H({theme:a},d,(s,p)=>t.useFlexGap?{gap:q(o,s)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${St(p?r[p]:t.direction)}`]:q(o,s)}}))}return e=pt(a.breakpoints,e),e};function $t(t={}){const{createStyledComponent:a=Pt,useThemeProps:e=mt,componentName:o="MuiStack"}=t,n=()=>F({root:["root"]},s=>w(o,s),{}),r=a(kt);return P.forwardRef(function(s,p){const C=e(s),R=it(C),{component:y="div",direction:k="column",spacing:v=0,divider:f,children:S,className:$,useFlexGap:x=!1,...I}=R,m={direction:k,spacing:v,useFlexGap:x},b=n();return l.jsx(r,{as:y,ownerState:m,ref:p,className:B(b.root,$),...I,children:f?Ct(S,f):S})})}function Rt(t){const{controlled:a,default:e}=t,{current:o}=P.useRef(a!==void 0),[n,r]=P.useState(e),d=o?a:n,c=P.useCallback(s=>{o||r(s)},[]);return[d,c]}function It(t){return w("MuiPagination",t)}Q("MuiPagination",["root","ul","outlined","text"]);function jt(t={}){const{boundaryCount:a=1,componentName:e="usePagination",count:o=1,defaultPage:n=1,disabled:r=!1,hideNextButton:d=!1,hidePrevButton:c=!1,onChange:s,page:p,showFirstButton:C=!1,showLastButton:R=!1,siblingCount:y=1,...k}=t,[v,f]=Rt({controlled:p,default:n}),S=(i,u)=>{p||f(u),s&&s(i,u)},$=(i,u)=>{const L=u-i+1;return Array.from({length:L},(E,O)=>i+O)},x=$(1,Math.min(a,o)),I=$(Math.max(o-a+1,a+1),o),m=Math.max(Math.min(v-y,o-a-y*2-1),a+2),b=Math.min(Math.max(v+y,a+y*2+2),o-a-1),N=[...C?["first"]:[],...c?[]:["previous"],...x,...m>a+2?["start-ellipsis"]:a+1<o-a?[a+1]:[],...$(m,b),...b<o-a-1?["end-ellipsis"]:o-a>a?[o-a]:[],...I,...d?[]:["next"],...R?["last"]:[]],j=i=>{switch(i){case"first":return 1;case"previous":return v-1;case"next":return v+1;case"last":return o;default:return null}};return{items:N.map(i=>typeof i=="number"?{onClick:u=>{S(u,i)},type:"page",page:i,selected:i===v,disabled:r,"aria-current":i===v?"page":void 0}:{onClick:u=>{S(u,j(i))},type:i,page:j(i),selected:!1,disabled:r||!i.includes("ellipsis")&&(i==="next"||i==="last"?v>=o:v<=1)}),...k}}function zt(t){return w("MuiPaginationItem",t)}const g=Q("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),ht=D(l.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),Mt=D(l.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),Nt=D(l.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),Lt=D(l.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),X=(t,a)=>{const{ownerState:e}=t;return[a.root,a[e.variant],a[`size${h(e.size)}`],e.variant==="text"&&a[`text${h(e.color)}`],e.variant==="outlined"&&a[`outlined${h(e.color)}`],e.shape==="rounded"&&a.rounded,e.type==="page"&&a.page,(e.type==="start-ellipsis"||e.type==="end-ellipsis")&&a.ellipsis,(e.type==="previous"||e.type==="next")&&a.previousNext,(e.type==="first"||e.type==="last")&&a.firstLast]},Tt=t=>{const{classes:a,color:e,disabled:o,selected:n,size:r,shape:d,type:c,variant:s}=t,p={root:["root",`size${h(r)}`,s,d,e!=="standard"&&`color${h(e)}`,e!=="standard"&&`${s}${h(e)}`,o&&"disabled",n&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[c]],icon:["icon"]};return F(p,zt,a)},Bt=M("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:X})(U(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${g.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]}))),Dt=M(ut,{name:"MuiPaginationItem",slot:"Root",overridesResolver:X})(U(({theme:t})=>({...t.typography.body2,borderRadius:32/2,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${g.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${g.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${g.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${g.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,`${(t.vars||t).palette.action.selectedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)},[`&.${g.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:26/2,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:40/2,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?`1px solid ${t.alpha(t.vars.palette.common.onBackground,.23)}`:`1px solid ${t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"}`,[`&.${g.selected}`]:{[`&.${g.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{[`&.${g.selected}`]:{[`&.${g.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(J(["dark","contrastText"])).map(([a])=>({props:{variant:"text",color:a},style:{[`&.${g.selected}`]:{color:(t.vars||t).palette[a].contrastText,backgroundColor:(t.vars||t).palette[a].main,"&:hover":{backgroundColor:(t.vars||t).palette[a].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a].main}},[`&.${g.focusVisible}`]:{backgroundColor:(t.vars||t).palette[a].dark},[`&.${g.disabled}`]:{color:(t.vars||t).palette.action.disabled}}}})),...Object.entries(t.palette).filter(J(["light"])).map(([a])=>({props:{variant:"outlined",color:a},style:{[`&.${g.selected}`]:{color:(t.vars||t).palette[a].main,border:`1px solid ${t.alpha((t.vars||t).palette[a].main,.5)}`,backgroundColor:t.alpha((t.vars||t).palette[a].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[a].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${g.focusVisible}`]:{backgroundColor:t.alpha((t.vars||t).palette[a].main,`${(t.vars||t).palette.action.activatedOpacity} + ${(t.vars||t).palette.action.focusOpacity}`)}}}}))]}))),Ot=M("div",{name:"MuiPaginationItem",slot:"Icon"})(U(({theme:t})=>({fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}))),Vt=P.forwardRef(function(a,e){const o=A({props:a,name:"MuiPaginationItem"}),{className:n,color:r="standard",component:d,components:c={},disabled:s=!1,page:p,selected:C=!1,shape:R="circular",size:y="medium",slots:k={},slotProps:v={},type:f="page",variant:S="text",...$}=o,x={...o,color:r,disabled:s,selected:C,shape:R,size:y,type:f,variant:S},I=yt(),m=Tt(x),b={slots:{previous:k.previous??c.previous,next:k.next??c.next,first:k.first??c.first,last:k.last??c.last},slotProps:v},[N,j]=T("previous",{elementType:Nt,externalForwardedProps:b,ownerState:x}),[z,i]=T("next",{elementType:Lt,externalForwardedProps:b,ownerState:x}),[u,L]=T("first",{elementType:ht,externalForwardedProps:b,ownerState:x}),[E,O]=T("last",{elementType:Mt,externalForwardedProps:b,ownerState:x}),G=I?{previous:"next",next:"previous",first:"last",last:"first"}[f]:f,W={previous:N,next:z,first:u,last:E}[G],Y={previous:j,next:i,first:L,last:O}[G];return f==="start-ellipsis"||f==="end-ellipsis"?l.jsx(Bt,{ref:e,ownerState:x,className:B(m.root,n),children:"â€¦"}):l.jsxs(Dt,{ref:e,ownerState:x,component:d,disabled:s,className:B(m.root,n),...$,children:[f==="page"&&p,W?l.jsx(Ot,{...Y,className:m.icon,as:W}):null]})}),Ft=t=>{const{classes:a,variant:e}=t;return F({root:["root",e],ul:["ul"]},It,a)},wt=M("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(t,a)=>{const{ownerState:e}=t;return[a.root,a[e.variant]]}})({}),At=M("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function Ut(t,a,e){return t==="page"?`${e?"":"Go to "}page ${a}`:`Go to ${t} page`}const Et=P.forwardRef(function(a,e){const o=A({props:a,name:"MuiPagination"}),{boundaryCount:n=1,className:r,color:d="standard",count:c=1,defaultPage:s=1,disabled:p=!1,getItemAriaLabel:C=Ut,hideNextButton:R=!1,hidePrevButton:y=!1,onChange:k,page:v,renderItem:f=u=>l.jsx(Vt,{...u}),shape:S="circular",showFirstButton:$=!1,showLastButton:x=!1,siblingCount:I=1,size:m="medium",variant:b="text",...N}=o,{items:j}=jt({...o,componentName:"Pagination"}),z={...o,boundaryCount:n,color:d,count:c,defaultPage:s,disabled:p,getItemAriaLabel:C,hideNextButton:R,hidePrevButton:y,renderItem:f,shape:S,showFirstButton:$,showLastButton:x,siblingCount:I,size:m,variant:b},i=Ft(z);return l.jsx(wt,{"aria-label":"pagination navigation",className:B(i.root,r),ownerState:z,ref:e,...N,children:l.jsx(At,{className:i.ul,ownerState:z,children:j.map((u,L)=>l.jsx("li",{children:f({...u,color:d,"aria-label":C(u.type,u.page,u.selected),shape:S,size:m,variant:b})},L))})})}),Gt=$t({createStyledComponent:M("div",{name:"MuiStack",slot:"Root"}),useThemeProps:t=>A({props:t,name:"MuiStack"})});function Wt({id:t}){const[a,e]=P.useState([]),o=Z(),n=a.length,r=a.findIndex(c=>c==parseInt(t))+1;P.useEffect(()=>{async function c(){try{const s=await tt();e(s.map(p=>p.id))}catch(s){console.log(`Failed - getAllRecords: ${s}`),console.log(s)}}c()},[]);function d(c,s){o({to:"/records/$id",params:{id:String(a[s-1])}})}if(a.length!=0)return l.jsx(l.Fragment,{children:l.jsx(Gt,{alignItems:"center",className:"pb-6",children:l.jsx(Et,{page:r,count:n,onChange:d})})})}const Xt=function(){const a=at(),{id:e}=_.useParams(),o=_.useLoaderData();console.log(`Record ID ${e}`);async function n(r,d){try{await et(r,d,+e),await a.invalidate({sync:!0}),K("Edited")}catch(c){K("Error - editing","error"),console.log(c)}}return l.jsx("div",{className:"p-10",children:o?l.jsxs(l.Fragment,{children:[l.jsxs("h2",{className:"text-right font-bold mb-4",children:["Record ID ",e," (",new Date(o.time).toLocaleString(),")"]}),l.jsx(Wt,{id:e}),l.jsx(ot,{data:o,onSave:n},e)]}):l.jsxs("p",{children:["This ID ",e," does not exist in DB"]})})};export{Xt as component};
