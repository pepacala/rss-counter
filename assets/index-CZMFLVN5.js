import{r as d,j as s,c as f,R as _,b as F,u as J,L as D,d as X}from"./index-CHsasOJn.js";import{C as q}from"./Confirm-Cvo1XkWi.js";import{c as G}from"./createSvgIcon-jqyJqtoP.js";import{n as U}from"./notify-CZCgfIFC.js";import{t as K,g as Q}from"./utils-Bzi9kVJy.js";import{g as x,a as v,u as m,s as h,c as C,m as M,b as y}from"./createSimplePaletteValueFilter-DW0oBXIX.js";const W=d.createContext();function Y(e){return x("MuiTable",e)}v("MuiTable",["root","stickyHeader"]);const Z=e=>{const{classes:o,stickyHeader:t}=e;return C({root:["root",t&&"stickyHeader"]},Y,o)},ee=h("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.stickyHeader&&o.stickyHeader]}})(M(({theme:e})=>({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":{...e.typography.body2,padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"},variants:[{props:({ownerState:o})=>o.stickyHeader,style:{borderCollapse:"separate"}}]}))),B="table",oe=d.forwardRef(function(o,t){const n=m({props:o,name:"MuiTable"}),{className:c,component:r=B,padding:i="normal",size:a="medium",stickyHeader:l=!1,...u}=n,p={...n,component:r,padding:i,size:a,stickyHeader:l},T=Z(p),H=d.useMemo(()=>({padding:i,size:a,stickyHeader:l}),[i,a,l]);return s.jsx(W.Provider,{value:H,children:s.jsx(ee,{as:r,role:r===B?null:"table",ref:t,className:f(T.root,c),ownerState:p,...u})})}),k=d.createContext();function te(e){return x("MuiTableBody",e)}v("MuiTableBody",["root"]);const ae=e=>{const{classes:o}=e;return C({root:["root"]},te,o)},se=h("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),re={variant:"body"},L="tbody",ne=d.forwardRef(function(o,t){const n=m({props:o,name:"MuiTableBody"}),{className:c,component:r=L,...i}=n,a={...n,component:r},l=ae(a);return s.jsx(k.Provider,{value:re,children:s.jsx(se,{className:f(l.root,c),as:r,ref:t,role:r===L?null:"rowgroup",ownerState:a,...i})})});function le(e){return x("MuiTableCell",e)}const ie=v("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),ce=e=>{const{classes:o,variant:t,align:n,padding:c,size:r,stickyHeader:i}=e,a={root:["root",t,i&&"stickyHeader",n!=="inherit"&&`align${y(n)}`,c!=="normal"&&`padding${y(c)}`,`size${y(r)}`]};return C(a,le,o)},de=h("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,o[t.variant],o[`size${y(t.size)}`],t.padding!=="normal"&&o[`padding${y(t.padding)}`],t.align!=="inherit"&&o[`align${y(t.align)}`],t.stickyHeader&&o.stickyHeader]}})(M(({theme:e})=>({...e.typography.body2,display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${e.palette.mode==="light"?e.lighten(e.alpha(e.palette.divider,1),.88):e.darken(e.alpha(e.palette.divider,1),.68)}`,textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(e.vars||e).palette.text.primary}},{props:{variant:"footer"},style:{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",[`&.${ie.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:({ownerState:o})=>o.stickyHeader,style:{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default}}]}))),b=d.forwardRef(function(o,t){const n=m({props:o,name:"MuiTableCell"}),{align:c="inherit",className:r,component:i,padding:a,scope:l,size:u,sortDirection:p,variant:T,...H}=n,g=d.useContext(W),j=d.useContext(k),$=j&&j.variant==="head";let R;i?R=i:R=$?"th":"td";let w=l;R==="td"?w=void 0:!w&&$&&(w="col");const S=T||j&&j.variant,z={...n,align:c,component:R,padding:a||(g&&g.padding?g.padding:"normal"),size:u||(g&&g.size?g.size:"medium"),sortDirection:p,stickyHeader:S==="head"&&g&&g.stickyHeader,variant:S},V=ce(z);let N=null;return p&&(N=p==="asc"?"ascending":"descending"),s.jsx(de,{as:R,ref:t,className:f(V.root,r),"aria-sort":N,scope:w,ownerState:z,...H})});function pe(e){return x("MuiTableContainer",e)}v("MuiTableContainer",["root"]);const ue=e=>{const{classes:o}=e;return C({root:["root"]},pe,o)},ge=h("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),be=d.forwardRef(function(o,t){const n=m({props:o,name:"MuiTableContainer"}),{className:c,component:r="div",...i}=n,a={...n,component:r},l=ue(a);return s.jsx(ge,{ref:t,as:r,className:f(l.root,c),ownerState:a,...i})});function ye(e){return x("MuiTableHead",e)}v("MuiTableHead",["root"]);const fe=e=>{const{classes:o}=e;return C({root:["root"]},ye,o)},xe=h("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),ve={variant:"head"},P="thead",me=d.forwardRef(function(o,t){const n=m({props:o,name:"MuiTableHead"}),{className:c,component:r=P,...i}=n,a={...n,component:r},l=fe(a);return s.jsx(k.Provider,{value:ve,children:s.jsx(xe,{as:r,className:f(l.root,c),ref:t,role:r===P?null:"rowgroup",ownerState:a,...i})})});function he(e){return x("MuiTableRow",e)}const A=v("MuiTableRow",["root","selected","hover","head","footer"]),Ce=e=>{const{classes:o,selected:t,hover:n,head:c,footer:r}=e;return C({root:["root",t&&"selected",n&&"hover",c&&"head",r&&"footer"]},he,o)},Te=h("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:t}=e;return[o.root,t.head&&o.head,t.footer&&o.footer]}})(M(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${A.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${A.selected}`]:{backgroundColor:e.alpha((e.vars||e).palette.primary.main,(e.vars||e).palette.action.selectedOpacity),"&:hover":{backgroundColor:e.alpha((e.vars||e).palette.primary.main,`${(e.vars||e).palette.action.selectedOpacity} + ${(e.vars||e).palette.action.hoverOpacity}`)}}}))),I="tr",O=d.forwardRef(function(o,t){const n=m({props:o,name:"MuiTableRow"}),{className:c,component:r=I,hover:i=!1,selected:a=!1,...l}=n,u=d.useContext(k),p={...n,component:r,hover:i,selected:a,head:u&&u.variant==="head",footer:u&&u.variant==="footer"},T=Ce(p);return s.jsx(Te,{as:r,ref:t,className:f(T.root,c),role:r===I?null:"row",ownerState:p,...l})}),Re=G(s.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"})),E=["food","lumber","stone","ore"],Se=function(){const o=_.useLoaderData(),t=F(),n=J(),c=K(o,E);async function r(a){try{await X(a),await t.invalidate({sync:!0}),U("Deleted")}catch(l){U("Error - deleting","error"),console.log(l)}}function i(a){n({to:"/records/$id",params:{id:String(a)}})}return s.jsxs("div",{className:"p-10",children:[s.jsx("h2",{className:"text-2xl mb-4 text-center",children:"Records"}),o.length>0?s.jsx(be,{children:s.jsxs(oe,{size:"small",children:[s.jsx(me,{children:s.jsxs(O,{children:[s.jsx(b,{children:"ID"}),s.jsx(b,{align:"left",children:"Date / time"}),E.map(a=>s.jsx(b,{align:"center",children:Q(a)},a)),s.jsx(b,{align:"right",children:"Delete"})]})}),s.jsx(ne,{children:c.map(a=>s.jsxs(O,{hover:!0,sx:{cursor:"pointer"},onClick:()=>i(a.id),children:[s.jsx(b,{component:"th",scope:"row",children:a.id}),s.jsx(b,{align:"left",children:new Date(a.time).toLocaleString()}),a.rss.map(l=>s.jsx(b,{align:"center",children:l.value},l.name)),s.jsx(b,{align:"right",sx:{cursor:"auto"},onClick:l=>{l.stopPropagation()},children:s.jsx(q,{title:`Realy delete record ID ${a.id}`,onConfirm:()=>r(a.id),children:s.jsx(Re,{sx:{cursor:"pointer"}})})})]},a.id))})]})}):s.jsxs("div",{className:"mb-4",children:["No record yet, go to"," ",s.jsx(D,{to:"/",className:"underline",children:"index/homeapge"})," ","and make first one, or populate DB with dummy data on"," ",s.jsx(D,{to:"/about",className:"underline",children:"About"})]})]})};export{Se as component};
